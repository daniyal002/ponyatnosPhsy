!function(e,t){"use strict";var n={throttle:function(e,t){let n=0;return function(...i){let o=(new Date).getTime();if(o-n<t)return!1;window.intervalID=setTimeout((function(){e(...i)}),t),n=o}},debounce:function(e,t){let n;return function(...i){n&&clearTimeout(n),n=setTimeout((function(){e(...i)}),t)}},isInViewport:function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},setDefaultFilterData({name:t,classPrefix:n,setArray:i,addClass:o}){const a=new URLSearchParams(window.location.search);if(a.has(t)){a.get(t).split(",").map((t=>{i.add(t);const a=e(`${n}${t}`);o&&o.length&&a.addClass(o),a.prop("checked",!0)}))}}},i={init:function(){var n={"shopengine-single-product-images.default":i.Single_Product_Images,"shopengine-product-filters.default":i.Product_Filters,"shopengine-product-size-charts.default":i.Product_Size_Charts,"shopengine-advanced-coupon.default":i.Advanced_Coupon};e.each(n,(function(e,n){t.hooks.addAction("frontend/element_ready/"+e,n)}))},Single_Product_Images:function(t){setTimeout((function(){if(t.find(".flex-control-thumbs").length){function n(e){let n=e.el?e.el:t.find(".flex-active"),i=t.find(".flex-control-thumbs"),o=t.find(".flex-viewport"),a="bottom"==e.type?"left":"top",r="bottom"==e.type?n.outerWidth():n.outerHeight(),s="bottom"==e.type?o.outerWidth():o.outerHeight(),l="bottom"==e.type?"translateX":"translateY",f=n.offset()[a]+r-i.offset()[a];if(s<=f){let e=f-s;i.css("transform",l+"(-"+Math.abs(e)+"px)")}else i.css("transform",l+"(0px)")}e(window).width()<=980&&t.removeClass("shopengine_image_gallery_position_left").removeClass("shopengine_image_gallery_position_right").addClass("shopengine_image_gallery_position_bottom"),t.find(".flex-direction-nav, .flex-control-thumbs").wrapAll('<div class="shopengine-gallery-wrapper"></div>'),t.find(".flex-direction-nav a").on("click change input",(function(i,o){t.hasClass("shopengine_image_gallery_position_bottom")?n({type:"bottom",el:o?e(o):""}):n({type:"left-right",el:o?e(o):""})})),t.find(".flex-control-thumbs li").on("click",(function(){t.find(".flex-direction-nav a.flex-next").trigger("click",e(this))}))}else t.find(".flex-control-thumbs").length||(t.find(".shopengine-product-image-toggle").css("margin",0),t.find(".position-top-left").css("margin-left",0))}),0)},Advanced_Coupon:function(e){e.find(".shopengine-coupon-button").on("click",(function(e){let t=jQuery("<input>");jQuery("body").append(t),t.val(jQuery("#shopengine-coupon-code").text()).select(),document.execCommand("copy"),t.remove(),jQuery(".shopengine-coupon").addClass("shopengine-coupon-active"),setTimeout((()=>{jQuery(".shopengine-coupon").removeClass("shopengine-coupon-active")}),500)}))},Product_Filters:function(t){var i=t.find(".shopengine-product-filters-wrapper"),o=i.data("filter-price"),a=i.data("filter-rating"),r=i.data("filter-color"),s=i.data("filter-category"),l=i.data("filter-attribute"),f=i.data("filter-label"),c=i.data("filter-image"),g=i.data("filter-shipping"),d=i.data("filter-stock"),p=i.data("filter-onsale"),u=i.data("filter-view-mode"),h=t.find(".shopengine-filter-price"),m=t.find(".shopengine-filter-price-slider"),_=t.find(".shopengine-filter-price-reset"),v=t.find(".shopengine-filter-price-result"),y=i.find('input[name="min_price"]'),b=i.find('input[name="max_price"]'),x=v.data("sign"),w=h.data("default-range");let C=t.find(".shopengine-filter-rating__labels"),k=new Set,I=new Set,A=t.find(".shopengine-filter-group-toggle"),D=t.find(".shopengine-filter-group-content-wrapper"),P=t.find(".shopengine-filter-group-content-underlay"),S=t.find(".shopengine-filter-group-content-close");if(A.add(S).add(P).on("click",(function(){A.toggleClass("active"),D.toggleClass("isactive")})),e(document).on("click",(e=>{if(D.hasClass("isactive")){e.target.closest(".shopengine-filter-group-content-wrapper, .shopengine-filter-group-toggle")||(A.toggleClass("active"),D.toggleClass("isactive"))}})),"collapse"===u){t.find(".shopengine-collapse .shopengine-product-filter-title").on("click",(e=>{e.preventDefault(),e.stopPropagation();const t=e.target.closest(".shopengine-filter");t.classList.toggle("open"),t.nextElementSibling.classList.toggle("open")}))}const R=({form:e,filterInput:t,formInput:i})=>{let o={};t.map(((e,t)=>{o[t.name]||(o[t.name]=new Set);const i={name:t.name,classPrefix:`.${t.name}-`,setArray:o[t.name]};n.setDefaultFilterData(i)})),t.on("change",(function(t){const n=t.target.value,a=t.target.name;console.log(a,n),o[a]||(o[a]=new Set),o[a].has(n)?o[a]["delete"](n):o[a].add(n),i.attr("name",a),i.attr("value",Array.from(o[a])),e.trigger("submit")}))};if("yes"===o){let n=t.find(".shopengine-filter-price"),i=!1;m.asRange("val",[10,300]);const o=new URLSearchParams(window.location.search);let a=n.data("exchange-rate");o.has("min_price")&&o.has("max_price")&&(i=0!==a?[o.get("min_price")*a,o.get("max_price")*a]:[o.get("min_price"),o.get("max_price")],v.text(x+i[0]+" - "+x+i[1])),m.asRange({range:!0,min:0,max:w[1],step:1,tip:!1,scale:!1,replaceFirst:0,value:i||w}).on("asRange::change",(function(e,t,n){v.text(x+n[0]+" - "+x+n[1])})).on("asRange::moveEnd",(function(){var t=e(this).data("asRange").value;if(0!==a)var i=t[0]/a,o=t[1]/a;else i=t[0],o=t[1];y.val(i),b.val(o),n.trigger("submit")})),_.on("click",(function(){m.asRange("val",w),n.trigger("reset").trigger("submit")}))}if("yes"===a){const e={name:"rating_filter",classPrefix:".shopengine-rating-name-",setArray:k,addClass:"checked"};n.setDefaultFilterData(e);let i=t.find(".shopengine-filter.shopengine-filter-rating");C.on("click",(function(e){e.preventDefault();let n=e.target.closest(".rating-label-triger");if(n){let e=n.dataset.rating,o=n.dataset.target,a=t.find(n),r=t.find(`#${o}`);k.has(e)?k["delete"](e):k.add(e),a.hasClass("checked")?a.removeClass("checked"):a.addClass("checked"),r.attr("value",Array.from(k)),i.trigger("submit")}}))}if("yes"===r){R({form:t.find("#shopengine_color_form"),filterInput:t.find(".shopengine-filter-colors"),formInput:t.find(".shopengine-filter-colors-value")})}if("yes"===s){let i=t.find("#shopengine_category_form"),o=t.find(".shopengine-filter-categories"),a=t.find("#shopengine_filter_category"),r=t.find(".shopengine-filter-category-toggle");const s={name:"shopengine_filter_category",classPrefix:".shopengine-category-name-",setArray:I};n.setDefaultFilterData(s),r.on("click",(function(){let t=e(this).data("target"),n=e(this).attr("aria-expanded"),i=e(this).parent().parent();"true"===n?(i.removeClass("isActive"),e(t).slideUp(),e(this).attr("aria-expanded","false")):(i.addClass("isActive"),e(t).slideDown(),e(this).attr("aria-expanded","true"))})),o.on("click",(function(n){let o=n.target.value;I.has(o)?I["delete"](o):I.add(o),a.attr("value",Array.from(I));let r=e(this).parent(),s=r.find(".shopengine-filter-category-toggle");r.parent().hasClass("isActive")||e(this).hasClass("shopengine-filter-subcategory")||t.find(".shopengine-filter-category-has-child.isActive").find(".shopengine-filter-category-toggle").trigger("click"),r.parent().hasClass("shopengine-filter-category-has-child")&&"true"!==s.attr("aria-expanded")&&s.trigger("click"),i.trigger("submit")}))}if("yes"===l){R({form:t.find("#shopengine_attribute_form"),filterInput:t.find(".shopengine-filter-attribute"),formInput:t.find(".shopengine-filter-attribute-value")})}if("yes"===f){R({form:t.find("#shopengine_label_form"),filterInput:t.find(".shopengine-filter-label"),formInput:t.find(".shopengine-filter-label-value")})}if("yes"===c){R({form:t.find("#shopengine_image_form"),filterInput:t.find(".shopengine-filter-image"),formInput:t.find(".shopengine-filter-image-value")})}if("yes"===g){R({form:t.find("#shopengine_shipping_form"),filterInput:t.find(".shopengine-filter-shipping"),formInput:t.find(".shopengine-filter-shipping-value")})}if("yes"===d){R({form:t.find("#shopengine_stock_form"),filterInput:t.find(".shopengine-filter-stock"),formInput:t.find(".shopengine-filter-stock-value")})}if("yes"===p){R({form:t.find("#shopengine_onsale_form"),filterInput:t.find(".shopengine-filter-onsale"),formInput:t.find(".shopengine-filter-onsale-value")})}},Product_Size_Charts:function(t){let n=t.find(".shopengine-product-size-chart-button"),i=t.find(".shopengine-product-size-chart");n.on("click",(function(){i.css({display:"flex"})})),i.on("click",(function(){"yes"===e(this).data("model")&&i.css({display:"none"})}))}};e(window).on("elementor/frontend/init",i.init)}(jQuery,window.elementorFrontend);